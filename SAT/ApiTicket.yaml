openapi: 3.1.0
x-stoplight:
  id: rtftr957lma45
info:
  title: ApiTicket
  version: '1.0'
servers:
  - url: 'http://localhost:3000'
paths:
  /tickets:
    get:
      summary: findMany
      tags: []
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                type: object
                properties:
                  statusCode:
                    type: integer
                  message:
                    type: string
                  content:
                    type: object
                    properties:
                      success:
                        type: boolean
                      sql:
                        type: string
                      records:
                        type: array
                        items:
                          type: object
                          properties:
                            TicketID:
                              type: integer
                            Numero:
                              type: integer
                            FechaHoraAlta:
                              type: string
                            DescripcionEstado:
                              type: string
                            nombreTecnico:
                              type: string
                            codigoTecnico:
                              type: string
                            usuarioCierre:
                              type: string
                            FechaHoraCierre:
                              type: string
                            CodigoCliente:
                              type: string
                            NombreCliente:
                              type: string
                            Horario:
                              type: string
                            PaisNombre:
                              type: string
                            MunicipioNombre:
                              type: string
                            ProvinciaNombre:
                              type: string
                            NombreCodigoPostal:
                              type: string
                            ContactoNombre:
                              type: string
                            Telefono:
                              type: string
                            TipoTicket:
                              type: string
                            NombrePrioridad:
                              type: string
                            ServicioNombre:
                              type: string
                            TipoProblemaNombre:
                              type: string
                            Descripcion:
                              type: string
                            UbicacionNombre:
                              type: string
                            UbicacionCodigo:
                              type: integer
                            Direccion:
                              type: string
                            UbicacionCodigoPostal:
                              type: string
                            UbicacionMunicipio:
                              type: string
                            UbicacionProvincia:
                              type: string
                            Longitud:
                              type: string
                            Latitud:
                              type: string
                            Equipo:
                              type: string
                            NombreEquipo:
                              type: string
                            FechaInicioGarantia:
                              type: string
                            FechaFinGarantia:
                              type: string
                x-examples:
                  Example 1:
                    statusCode: 200
                    message: Request processed successfully
                    content:
                      success: true
                      sql: "SELECT AvisoTicket.*,\r\nAvisoTicketElemento.ElementoID, \r\nElemento.NumeroSerie,\r\nElemento.Nombre AS NombreEquipo,\r\nelemento.FechaInstalacion AS FechaInicioGarantia,\r\nelemento.FechaBaja AS FechaFinGarantia,\r\nMailing.ReferenciaCodigo,\r\nmailing.Horario ,\r\nmailing.Telefono ,\r\nMailing.Nombre AS NombreMailing,\r\nmailing.Municipio AS MunicipioNombre,\r\nDireccion.Codigo AS CodigoDireccion,\r\nDireccion.Nombre AS NombreDireccion,\r\ndireccion.Direccion ,\r\ndireccion.municipio AS UbicacionMunicipio,\r\ndireccion.Latitud,\r\ndireccion.Longitud,\r\nTablaGeneralAbrev.Abreviatura AS TipoTicketAbreviatura,\r\nTablaGeneralAbrev.Descripcion AS TipoTicketTexto,\r\nAvisoTicketPrioridad.Nombre AS NombrePrioridad,\r\nAvisoTicketPrioridad.Icono AS IconoPrioridad,\r\ncodigopostal.CodigoPostal AS NombreCodigoPostal,\r\nprovincia.Nombre AS ProvinciaNombre,\r\npais.Nombre AS PaisNombre,\r\ncontacto.Nombre AS ContactoNombre,\r\navisotickettipoproblema.Nombre AS TipoProblemaNombre,\r\nservicio.Descripcion AS ServicioNombre,\r\ncodigoPostalUbicacion.CodigoPostal AS NombreCodigoPostalUbicacion,\r\nprovinciaUbicacion.Nombre AS NombreUbicacionProvincia,\r\nusuario.NombreUsuario AS usuarioAlta,\r\nempleado.Nombre AS nombreTecnico,\r\nempleado.Codigo AS codigoTecnico,\r\nusuarioCierre.NombreUsuario AS usuarioCierre\r\n\r\n\r\n\r\nFROM avisoticket\r\nLEFT OUTER JOIN Mailing ON Mailing.MailingID = AvisoTicket.MailingID\r\nLEFT OUTER JOIN AvisoTicketElemento ON AvisoTicketElemento.AvisoTicketID = AvisoTicket.AvisoTicketID\r\nLEFT OUTER JOIN Elemento ON Elemento.ElementoID = AvisoTicketElemento.ElementoID\r\nLEFT OUTER JOIN Direccion ON Direccion.DireccionID = AvisoTicket.DireccionID\r\nLEFT OUTER JOIN TablaGeneral AS TablaGeneralAbrev ON TablaGeneralAbrev.TablaGeneralID = AvisoTicket.TipoAvisoID\r\nLEFT OUTER JOIN AvisoTicketPrioridad ON AvisoTicket.AvisoTicketPrioridadID = AvisoTicketPrioridad.AvisoTicketPrioridadID\r\nLEFT JOIN avisotickettipoproblema ON avisoticket.AvisoTicketTipoProblemaID = avisotickettipoproblema.AvisoTicketTipoProblemaID\r\nLEFT JOIN codigopostal ON codigopostal.CodigoPostalID = mailing.CodigoPostalID\r\nLEFT JOIN codigopostal AS codigoPostalUbicacion ON codigoPostalUbicacion.CodigoPostalID = direccion.CodigoPostalID\r\n\r\nLEFT JOIN empleado ON avisoticket.EmpleadoID = empleado.EmpleadoID\r\nLEFT JOIN usuario ON usuario.UsuarioID = avisoticket.UsuarioID\r\nLEFT JOIN usuario AS usuarioCierre ON usuarioCierre.UsuarioID = avisoticket.UsuarioCierreID\r\n\r\nLEFT JOIN provincia ON provincia.ProvinciaID = mailing.ProvinciaID\r\nLEFT JOIN provincia AS provinciaUbicacion  ON provinciaUbicacion.ProvinciaID = direccion.ProvinciaID\r\nLEFT JOIN pais ON pais.PaisID = mailing.PaisID\r\nLEFT JOIN contacto ON contacto.ContactoID = avisoticket.ContactoID \r\nLEFT OUTER JOIN TablaGeneral AS Servicio ON Servicio.TablaGeneralID = avisoticket.ServicioID\r\n\r\nWHERE AvisoTicket.CustomerID = 29\r\nAND\tAvisoTicket.EmpresaID = 1\r\norder by AvisoTicket.Numero ASC\r\nlimit 5\r\noffset 0"
                      records:
                        - TicketID: 2
                          Numero: 1
                          FechaHoraAlta: '2018-05-10T15:28:27.000'
                          DescripcionEstado: Pendiente Técnico
                          nombreTecnico: ''
                          codigoTecnico: ''
                          usuarioCierre: ''
                          FechaHoraCierre: '0000-00-00T00:00:00.000'
                          CodigoCliente: '43000001'
                          NombreCliente: dario
                          Horario: '1'
                          PaisNombre: AfganistÃ¡n
                          MunicipioNombre: ''
                          ProvinciaNombre: ''
                          NombreCodigoPostal: ''
                          ContactoNombre: ANDER
                          Telefono: ''
                          TipoTicket: Averia
                          NombrePrioridad: ''
                          ServicioNombre: ''
                          TipoProblemaNombre: ''
                          Descripcion: No enciende
                          UbicacionNombre: SAT MADRID 1
                          UbicacionCodigo: 1
                          Direccion: 'Calle de los comuneros de Castilla, 18'
                          UbicacionCodigoPostal: '28000'
                          UbicacionMunicipio: MADRID
                          UbicacionProvincia: Araba
                          Longitud: '54545'
                          Latitud: '48755'
                          Equipo: '3442342'
                          NombreEquipo: EXTINTOR
                          FechaInicioGarantia: '20180322'
                          FechaFinGarantia: '20230303'
                        - TicketID: 3
                          Numero: 2
                          FechaHoraAlta: '2018-07-05T11:48:39.000'
                          DescripcionEstado: Pendiente Técnico
                          nombreTecnico: ''
                          codigoTecnico: ''
                          usuarioCierre: ''
                          FechaHoraCierre: '0000-00-00T00:00:00.000'
                          CodigoCliente: '43000001'
                          NombreCliente: dario
                          Horario: '1'
                          PaisNombre: AfganistÃ¡n
                          MunicipioNombre: ''
                          ProvinciaNombre: ''
                          NombreCodigoPostal: ''
                          ContactoNombre: ANDER
                          Telefono: ''
                          TipoTicket: Averia
                          NombrePrioridad: ''
                          ServicioNombre: ''
                          TipoProblemaNombre: ''
                          Descripcion: se ha averiado el xxxxxx
                          UbicacionNombre: SAT MADRID 1
                          UbicacionCodigo: 1
                          Direccion: 'Calle de los comuneros de Castilla, 18'
                          UbicacionCodigoPostal: '28000'
                          UbicacionMunicipio: MADRID
                          UbicacionProvincia: Araba
                          Longitud: '54545'
                          Latitud: '48755'
                          Equipo: '3442342'
                          NombreEquipo: EXTINTOR
                          FechaInicioGarantia: '20180322'
                          FechaFinGarantia: '20230303'
                        - TicketID: 4
                          Numero: 3
                          FechaHoraAlta: '2019-02-20T17:48:25.000'
                          DescripcionEstado: ''
                          nombreTecnico: DARIO ESPARZA CIMARRO
                          codigoTecnico: '86'
                          usuarioCierre: ''
                          FechaHoraCierre: '0000-00-00T00:00:00.000'
                          CodigoCliente: '43000001'
                          NombreCliente: dario
                          Horario: '1'
                          PaisNombre: AfganistÃ¡n
                          MunicipioNombre: ''
                          ProvinciaNombre: ''
                          NombreCodigoPostal: ''
                          ContactoNombre: Ainhoa
                          Telefono: ''
                          TipoTicket: Averia
                          NombrePrioridad: ''
                          ServicioNombre: '3333'
                          TipoProblemaNombre: ''
                          Descripcion: "EstÃ¡ vacio\r\n"
                          UbicacionNombre: SAT MADRID 1
                          UbicacionCodigo: 1
                          Direccion: 'Calle de los comuneros de Castilla, 18'
                          UbicacionCodigoPostal: '28000'
                          UbicacionMunicipio: MADRID
                          UbicacionProvincia: Araba
                          Longitud: '54545'
                          Latitud: '48755'
                          Equipo: '3442342'
                          NombreEquipo: EXTINTOR
                          FechaInicioGarantia: '20180322'
                          FechaFinGarantia: '20230303'
                        - TicketID: 5
                          Numero: 4
                          FechaHoraAlta: '2019-02-27T09:13:15.000'
                          DescripcionEstado: ''
                          nombreTecnico: ''
                          codigoTecnico: ''
                          usuarioCierre: ''
                          FechaHoraCierre: '0000-00-00T00:00:00.000'
                          CodigoCliente: '43000001'
                          NombreCliente: dario
                          Horario: '1'
                          PaisNombre: AfganistÃ¡n
                          MunicipioNombre: ''
                          ProvinciaNombre: ''
                          NombreCodigoPostal: ''
                          ContactoNombre: Ainhoa
                          Telefono: ''
                          TipoTicket: Averia
                          NombrePrioridad: ''
                          ServicioNombre: '3333'
                          TipoProblemaNombre: ''
                          Descripcion: ''
                          UbicacionNombre: ANER VITORIA
                          UbicacionCodigo: 2
                          Direccion: 'Zumar Hiribidea, 1'
                          UbicacionCodigoPostal: ''
                          UbicacionMunicipio: ''
                          UbicacionProvincia: Araba
                          Longitud: ''
                          Latitud: ''
                          Equipo: '123'
                          NombreEquipo: Plegadora
                          FechaInicioGarantia: '20190227'
                          FechaFinGarantia: ''
                        - TicketID: 6
                          Numero: 5
                          FechaHoraAlta: '2019-02-27T09:25:27.000'
                          DescripcionEstado: ''
                          nombreTecnico: ''
                          codigoTecnico: ''
                          usuarioCierre: ''
                          FechaHoraCierre: '0000-00-00T00:00:00.000'
                          CodigoCliente: '43000001'
                          NombreCliente: dario
                          Horario: '1'
                          PaisNombre: AfganistÃ¡n
                          MunicipioNombre: ''
                          ProvinciaNombre: ''
                          NombreCodigoPostal: ''
                          ContactoNombre: Ainhoa
                          Telefono: ''
                          TipoTicket: Averia
                          NombrePrioridad: ''
                          ServicioNombre: ''
                          TipoProblemaNombre: ''
                          Descripcion: ''
                          UbicacionNombre: SAT MADRID 1
                          UbicacionCodigo: 1
                          Direccion: 'Calle de los comuneros de Castilla, 18'
                          UbicacionCodigoPostal: '28000'
                          UbicacionMunicipio: MADRID
                          UbicacionProvincia: Araba
                          Longitud: '54545'
                          Latitud: '48755'
                          Equipo: '3442342'
                          NombreEquipo: EXTINTOR
                          FechaInicioGarantia: '20180322'
                          FechaFinGarantia: '20230303'
              examples:
                Example 1:
                  value:
                    statusCode: 200
                    message: Request processed successfully
                    content:
                      success: true
                      sql: "SELECT AvisoTicket.*,\r\nAvisoTicketElemento.ElementoID, \r\nElemento.NumeroSerie,\r\nElemento.Nombre AS NombreEquipo,\r\nelemento.FechaInstalacion AS FechaInicioGarantia,\r\nelemento.FechaBaja AS FechaFinGarantia,\r\nMailing.ReferenciaCodigo,\r\nmailing.Horario ,\r\nmailing.Telefono ,\r\nMailing.Nombre AS NombreMailing,\r\nmailing.Municipio AS MunicipioNombre,\r\nDireccion.Codigo AS CodigoDireccion,\r\nDireccion.Nombre AS NombreDireccion,\r\ndireccion.Direccion ,\r\ndireccion.municipio AS UbicacionMunicipio,\r\ndireccion.Latitud,\r\ndireccion.Longitud,\r\nTablaGeneralAbrev.Abreviatura AS TipoTicketAbreviatura,\r\nTablaGeneralAbrev.Descripcion AS TipoTicketTexto,\r\nAvisoTicketPrioridad.Nombre AS NombrePrioridad,\r\nAvisoTicketPrioridad.Icono AS IconoPrioridad,\r\ncodigopostal.CodigoPostal AS NombreCodigoPostal,\r\nprovincia.Nombre AS ProvinciaNombre,\r\npais.Nombre AS PaisNombre,\r\ncontacto.Nombre AS ContactoNombre,\r\navisotickettipoproblema.Nombre AS TipoProblemaNombre,\r\nservicio.Descripcion AS ServicioNombre,\r\ncodigoPostalUbicacion.CodigoPostal AS NombreCodigoPostalUbicacion,\r\nprovinciaUbicacion.Nombre AS NombreUbicacionProvincia,\r\nusuario.NombreUsuario AS usuarioAlta,\r\nempleado.Nombre AS nombreTecnico,\r\nempleado.Codigo AS codigoTecnico,\r\nusuarioCierre.NombreUsuario AS usuarioCierre\r\n\r\n\r\n\r\nFROM avisoticket\r\nLEFT OUTER JOIN Mailing ON Mailing.MailingID = AvisoTicket.MailingID\r\nLEFT OUTER JOIN AvisoTicketElemento ON AvisoTicketElemento.AvisoTicketID = AvisoTicket.AvisoTicketID\r\nLEFT OUTER JOIN Elemento ON Elemento.ElementoID = AvisoTicketElemento.ElementoID\r\nLEFT OUTER JOIN Direccion ON Direccion.DireccionID = AvisoTicket.DireccionID\r\nLEFT OUTER JOIN TablaGeneral AS TablaGeneralAbrev ON TablaGeneralAbrev.TablaGeneralID = AvisoTicket.TipoAvisoID\r\nLEFT OUTER JOIN AvisoTicketPrioridad ON AvisoTicket.AvisoTicketPrioridadID = AvisoTicketPrioridad.AvisoTicketPrioridadID\r\nLEFT JOIN avisotickettipoproblema ON avisoticket.AvisoTicketTipoProblemaID = avisotickettipoproblema.AvisoTicketTipoProblemaID\r\nLEFT JOIN codigopostal ON codigopostal.CodigoPostalID = mailing.CodigoPostalID\r\nLEFT JOIN codigopostal AS codigoPostalUbicacion ON codigoPostalUbicacion.CodigoPostalID = direccion.CodigoPostalID\r\n\r\nLEFT JOIN empleado ON avisoticket.EmpleadoID = empleado.EmpleadoID\r\nLEFT JOIN usuario ON usuario.UsuarioID = avisoticket.UsuarioID\r\nLEFT JOIN usuario AS usuarioCierre ON usuarioCierre.UsuarioID = avisoticket.UsuarioCierreID\r\n\r\nLEFT JOIN provincia ON provincia.ProvinciaID = mailing.ProvinciaID\r\nLEFT JOIN provincia AS provinciaUbicacion  ON provinciaUbicacion.ProvinciaID = direccion.ProvinciaID\r\nLEFT JOIN pais ON pais.PaisID = mailing.PaisID\r\nLEFT JOIN contacto ON contacto.ContactoID = avisoticket.ContactoID \r\nLEFT OUTER JOIN TablaGeneral AS Servicio ON Servicio.TablaGeneralID = avisoticket.ServicioID\r\n\r\nWHERE AvisoTicket.CustomerID = 29\r\nAND\tAvisoTicket.EmpresaID = 1\r\norder by AvisoTicket.Numero ASC\r\nlimit 5\r\noffset 0"
                      records:
                        - TicketID: 2
                          Numero: 1
                          FechaHoraAlta: '2018-05-10T15:28:27.000'
                          DescripcionEstado: Pendiente Técnico
                          nombreTecnico: ''
                          codigoTecnico: ''
                          usuarioCierre: ''
                          FechaHoraCierre: '0000-00-00T00:00:00.000'
                          CodigoCliente: '43000001'
                          NombreCliente: dario
                          Horario: '1'
                          PaisNombre: AfganistÃ¡n
                          MunicipioNombre: ''
                          ProvinciaNombre: ''
                          NombreCodigoPostal: ''
                          ContactoNombre: ANDER
                          Telefono: ''
                          TipoTicket: Averia
                          NombrePrioridad: ''
                          ServicioNombre: ''
                          TipoProblemaNombre: ''
                          Descripcion: No enciende
                          UbicacionNombre: SAT MADRID 1
                          UbicacionCodigo: 1
                          Direccion: 'Calle de los comuneros de Castilla, 18'
                          UbicacionCodigoPostal: '28000'
                          UbicacionMunicipio: MADRID
                          UbicacionProvincia: Araba
                          Longitud: '54545'
                          Latitud: '48755'
                          Equipo: '3442342'
                          NombreEquipo: EXTINTOR
                          FechaInicioGarantia: '20180322'
                          FechaFinGarantia: '20230303'
                        - TicketID: 3
                          Numero: 2
                          FechaHoraAlta: '2018-07-05T11:48:39.000'
                          DescripcionEstado: Pendiente Técnico
                          nombreTecnico: ''
                          codigoTecnico: ''
                          usuarioCierre: ''
                          FechaHoraCierre: '0000-00-00T00:00:00.000'
                          CodigoCliente: '43000001'
                          NombreCliente: dario
                          Horario: '1'
                          PaisNombre: AfganistÃ¡n
                          MunicipioNombre: ''
                          ProvinciaNombre: ''
                          NombreCodigoPostal: ''
                          ContactoNombre: ANDER
                          Telefono: ''
                          TipoTicket: Averia
                          NombrePrioridad: ''
                          ServicioNombre: ''
                          TipoProblemaNombre: ''
                          Descripcion: se ha averiado el xxxxxx
                          UbicacionNombre: SAT MADRID 1
                          UbicacionCodigo: 1
                          Direccion: 'Calle de los comuneros de Castilla, 18'
                          UbicacionCodigoPostal: '28000'
                          UbicacionMunicipio: MADRID
                          UbicacionProvincia: Araba
                          Longitud: '54545'
                          Latitud: '48755'
                          Equipo: '3442342'
                          NombreEquipo: EXTINTOR
                          FechaInicioGarantia: '20180322'
                          FechaFinGarantia: '20230303'
                        - TicketID: 4
                          Numero: 3
                          FechaHoraAlta: '2019-02-20T17:48:25.000'
                          DescripcionEstado: ''
                          nombreTecnico: DARIO ESPARZA CIMARRO
                          codigoTecnico: '86'
                          usuarioCierre: ''
                          FechaHoraCierre: '0000-00-00T00:00:00.000'
                          CodigoCliente: '43000001'
                          NombreCliente: dario
                          Horario: '1'
                          PaisNombre: AfganistÃ¡n
                          MunicipioNombre: ''
                          ProvinciaNombre: ''
                          NombreCodigoPostal: ''
                          ContactoNombre: Ainhoa
                          Telefono: ''
                          TipoTicket: Averia
                          NombrePrioridad: ''
                          ServicioNombre: '3333'
                          TipoProblemaNombre: ''
                          Descripcion: "EstÃ¡ vacio\r\n"
                          UbicacionNombre: SAT MADRID 1
                          UbicacionCodigo: 1
                          Direccion: 'Calle de los comuneros de Castilla, 18'
                          UbicacionCodigoPostal: '28000'
                          UbicacionMunicipio: MADRID
                          UbicacionProvincia: Araba
                          Longitud: '54545'
                          Latitud: '48755'
                          Equipo: '3442342'
                          NombreEquipo: EXTINTOR
                          FechaInicioGarantia: '20180322'
                          FechaFinGarantia: '20230303'
                        - TicketID: 5
                          Numero: 4
                          FechaHoraAlta: '2019-02-27T09:13:15.000'
                          DescripcionEstado: ''
                          nombreTecnico: ''
                          codigoTecnico: ''
                          usuarioCierre: ''
                          FechaHoraCierre: '0000-00-00T00:00:00.000'
                          CodigoCliente: '43000001'
                          NombreCliente: dario
                          Horario: '1'
                          PaisNombre: AfganistÃ¡n
                          MunicipioNombre: ''
                          ProvinciaNombre: ''
                          NombreCodigoPostal: ''
                          ContactoNombre: Ainhoa
                          Telefono: ''
                          TipoTicket: Averia
                          NombrePrioridad: ''
                          ServicioNombre: '3333'
                          TipoProblemaNombre: ''
                          Descripcion: ''
                          UbicacionNombre: ANER VITORIA
                          UbicacionCodigo: 2
                          Direccion: 'Zumar Hiribidea, 1'
                          UbicacionCodigoPostal: ''
                          UbicacionMunicipio: ''
                          UbicacionProvincia: Araba
                          Longitud: ''
                          Latitud: ''
                          Equipo: '123'
                          NombreEquipo: Plegadora
                          FechaInicioGarantia: '20190227'
                          FechaFinGarantia: ''
                        - TicketID: 6
                          Numero: 5
                          FechaHoraAlta: '2019-02-27T09:25:27.000'
                          DescripcionEstado: ''
                          nombreTecnico: ''
                          codigoTecnico: ''
                          usuarioCierre: ''
                          FechaHoraCierre: '0000-00-00T00:00:00.000'
                          CodigoCliente: '43000001'
                          NombreCliente: dario
                          Horario: '1'
                          PaisNombre: AfganistÃ¡n
                          MunicipioNombre: ''
                          ProvinciaNombre: ''
                          NombreCodigoPostal: ''
                          ContactoNombre: Ainhoa
                          Telefono: ''
                          TipoTicket: Averia
                          NombrePrioridad: ''
                          ServicioNombre: ''
                          TipoProblemaNombre: ''
                          Descripcion: ''
                          UbicacionNombre: SAT MADRID 1
                          UbicacionCodigo: 1
                          Direccion: 'Calle de los comuneros de Castilla, 18'
                          UbicacionCodigoPostal: '28000'
                          UbicacionMunicipio: MADRID
                          UbicacionProvincia: Araba
                          Longitud: '54545'
                          Latitud: '48755'
                          Equipo: '3442342'
                          NombreEquipo: EXTINTOR
                          FechaInicioGarantia: '20180322'
                          FechaFinGarantia: '20230303'
      operationId: get-tickets
      parameters:
        - schema:
            type: string
          in: header
          name: 'accessToken '
          description: '"tokenReciente"'
        - schema:
            type: integer
          in: query
          name: limit
          description: '50'
        - schema:
            type: integer
          in: query
          name: offset
          description: '0'
        - schema:
            type: string
          in: query
          name: order
          description: ASC
components:
  schemas: {}
